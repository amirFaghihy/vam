@model UserAccount
@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";

    Aban.ViewModel.BreadCrumb breadCrumb = new Aban.ViewModel.BreadCrumb();
    breadCrumb.Title = "افزودن";
    breadCrumb.PageTitle = "افزودن";

    breadCrumb.Links = new List<string[]>
{
    new string[2]{Url.Action("Index"),"صفحه اصلی" }
    };
}

@await Html.PartialAsync("~/Views/Shared/Generic/_BreadCrumb.cshtml", breadCrumb)

<div class="row layout-top-spacing">
    <div class="col-lg-12 col-12 layout-spacing">
        <div class="statbox widget box box-shadow">
            <form id="mainform" enctype="multipart/form-data" method="post" class="section contact">
                @Html.ValidationSummary(true)
                @*<div asp-validation-summary="All"></div>
                <div asp-validation-summary="ModelOnly"></div>*@
                <fieldset>
                    <partial name="./Partial/_CreateOrEditPatial.cshtml" model="Model" />
                </fieldset>
            </form>
        </div>
    </div>
</div>

<div id="custom_load_screen" style="display: none;">
    <div class="loader">
        <div class="loader-content">
            <div class="spinner-grow align-self-center"></div>
        </div>
    </div>
</div>

@section Styles{
    <link href="~/plugins/select2/select2.min.css" rel="stylesheet" />
}

    @section Scripts{
    <partial name="~/Views/Shared/_ValidationScriptsPartial.cshtml" />
    <script src="~/plugins/select2/select2.min.js"></script>

    <script>

        $("#AccountOwnerId").select2({
            tags: true,
        }).data('select2').$dropdown.addClass('class23');


        $("#BankName").select2({
            tags: true,
        }).data('select2').$dropdown.addClass('class58');

        $(function () {
            $.ajax(
                {
                    method: "GET",
                    url: "/Loans/UserAccount/GetLatestAccountNumber",
                    success: function (data) {

                        if (data.isSuccess == true) {
                            $('#latestAccountNumber').text('آخرین شماره حساب: ' + data.latestAccountNumber);
                        }
                        else {
                            alert('خطایی رخ داده است، صفحه را دوباره رفرش کنید !');

                        }
                    },
                    error: function () {
                        alert('خطایی رخ داده است، صفحه را دوباره رفرش کنید !');
                    }
                }
            );

        });

    </script>
}
